<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j" template="/layout/template.xhtml">

	<ui:define name="body">

		<h1>#{messages.CU571_titulo}</h1>
		<h:form id="evaluacionDesempenoSearch" styleClass="edit">

			<rich:simpleTogglePanel label="Organizado Por"
				switchType="client" id="panelParametro">

				<h:panelGrid columns="">
					<s:decorate template="/layout/display.xhtml">
						<ui:define name="label">#{messages.CU552_evaluacion}</ui:define>
						<h:inputText size="100" id="evaluacion" disabled="true"
							value="#{cargarResultEvalMetodo571FC.evalTitle}" />
					</s:decorate>
				</h:panelGrid>
				<h:panelGrid columns="2" id="idPanelCampos">


					<a:region>
						<s:decorate template="/layout/display.xhtml">
							<ui:define name="label">#{messages.ClasificadorUo_nivel}
										
									</ui:define>
							<h:inputText id="nivelCodigo" styleClass="numeric"
								onkeypress="return soloNumeros(event);"
								value="#{nivelEntidadOeeUtil.codNivelEntidad}" size="5"
								disabled="true">
							</h:inputText>	
					                #{' '}
					                <h:inputText id="nivelDescripcion"
								value="#{nivelEntidadOeeUtil.nombreNivelEntidad}" size="50"
								disabled="true" />
						</s:decorate>
					</a:region>

					<a:region>
						<s:decorate template="/layout/display.xhtml">
							<ui:define name="label">#{messages.Usuario_entidad}
									
									</ui:define>
							<h:inputText id="entidadCodigo" styleClass="numeric"
								onkeypress="return soloNumeros(event);"
								value="#{nivelEntidadOeeUtil.codSinEntidad}" size="5"
								disabled="true">
							</h:inputText>
					                #{' '}
					                <h:inputText id="entidadDescripcion"
								value="#{nivelEntidadOeeUtil.nombreSinEntidad}" size="70"
								disabled="true" />
						</s:decorate>
					</a:region>

					<a:region>
						<s:decorate template="/layout/display.xhtml">
							<ui:define name="label">#{messages.gral_oee}
										
									</ui:define>
							<h:inputText id="unidadOrgCodigo" styleClass="numeric" size="5"
								value="#{nivelEntidadOeeUtil.ordenUnidOrg}"
								onkeypress="return soloNumeros(event);" disabled="true">
							</h:inputText>
										#{' '}
										<h:inputText id="unidadOrgDenominacion" size="50"
								disabled="true"
								value="#{nivelEntidadOeeUtil.denominacionUnidad}" />
						</s:decorate>
					</a:region>

					<a:outputPanel>
						<s:decorate template="/layout/display.xhtml">
							<ui:define name="label">#{messages.CU398_unidadOrganiza}
									</ui:define>
							<h:inputText id="orgCodigo2" size="10" disabled="true"
								value="#{nivelEntidadOeeUtil.codigoUnidOrgDep}">
							</h:inputText>
									#{' '}
									<h:inputText id="orgDenominacion2" size="70" disabled="true"
								value="#{nivelEntidadOeeUtil.denominacionUnidadOrgaDep}" />
						</s:decorate>
					</a:outputPanel>
				</h:panelGrid>
			</rich:simpleTogglePanel>

			<rich:simpleTogglePanel label=" " switchType="client">

				<table>
					<tr>
						<td><s:decorate template="/layout/display.xhtml">
							<ui:define name="label">#{messages.CU571_grupo}</ui:define>
							<h:inputText size="100" disabled="true"
								value="#{cargarResultEvalMetodo571FC.grupo}" />
						</s:decorate></td>
						<td><s:decorate template="/layout/display.xhtml">
							<ui:define name="label">#{messages.CU571_palntilla}</ui:define>
							<h:inputText size="100" disabled="true"
								value="#{cargarResultEvalMetodo571FC.plantilla}" />
						</s:decorate></td>
					</tr>
					<tr align="center">
						<td align="center" colspan="2"><s:decorate
							template="/layout/display.xhtml">
							<ui:define name="label">#{messages.CU571_equipo}</ui:define>
							<h:inputTextarea disabled="true"
								value="#{cargarResultEvalMetodo571FC.equipo}"
								style="height : 49px; width : 482px;" />
						</s:decorate></td>
					</tr>
				</table>
			</rich:simpleTogglePanel>
			<h3 align="center"><span class="required">#{messages.CU571_puntajeObs}</span></h3>
			<rich:simpleTogglePanel label="#{messages.CU571_panel1_title}"
				id="idPanelDefAlcance">
				<rich:extendedDataTable
					noDataLabel="#{messages.msg_list_search_no_results}"
					onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
					onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
					cellpadding="0" cellspacing="0" width="500" border="0"
					rowKeyVar="rowIndexGrilla1" var="_record" height="250px"
					value="#{cargarResultEvalMetodo571FC.lGrilla1}">
					<rich:column width="5%">
						<f:facet name="header">
						#{messages.CU571_numero}
						</f:facet>
						<h:outputText style="white-space:normal;word-wrap: break-word"
							value="#{rowIndexGrilla1+1}" />
					</rich:column>
					<rich:column width="12%">
						<f:facet name="header">
						#{messages.CU571_resultadoEsperado}
						</f:facet>
						<h:outputText style="white-space:normal"
							value="#{_record.plantillaEvalConfDet.resultadoEsperado}" />
					</rich:column>


					<rich:column width="10%">
						<f:facet name="header">
						#{messages.CU571_actividades}
						</f:facet>
						<h:outputText style="white-space:normal"
							value="#{_record.plantillaEvalConfDet.actividades}" />
					</rich:column>


					<rich:column width="16%">
						<f:facet name="header">
						#{messages.CU571_indicadoresDeCumplimiento}
						</f:facet>
						<h:outputText style="white-space:normal"
							value="#{_record.plantillaEvalConfDet.indicadoresCump}" />
					</rich:column>



					<rich:column width="10%">
						<f:facet name="header">
						#{messages.CU571_puntajeObtenido}<span class="required">*</span>
						</f:facet>
						<h:inputText value="#{_record.puntaje}" />
					</rich:column>

					<rich:column width="14%">
						<f:facet name="header">
						#{messages.CU571_resultadoEvaluacion}
						</f:facet>
						<h:inputTextarea style=" width : 100%; height : 100%;"
							value="#{_record.justificacion}" />
					</rich:column>
					<rich:column width="22%">
						<f:facet name="header">
						#{messages.CU571_planDeMejora}
						</f:facet>
						<div style="overflow: scroll; HEIGHT: 200px; width: 100%;">
						<table border="1">
							<a:repeat value="#{_record.lPM}" var="itemRepeat">
								<tr>
									<td><h:outputText
										style="width: 50px ;white-space:normal;word-wrap: break-word"
										value="#{itemRepeat.descripcion}" /></td>
									<td><h:selectBooleanCheckbox
										value="#{itemRepeat.selected}">
										<a:support eventsQueue="default" event="onclick"></a:support>

									</h:selectBooleanCheckbox></td>
								</tr>
							</a:repeat>
						</table>
						</div>



					</rich:column>
					<rich:column width="10%">
						<f:facet name="header">
						#{messages.CU571_comentario}
						</f:facet>
						<h:inputTextarea value="#{_record.comentario}"
							style=" height : 100%;width : 100%;" />
					</rich:column>
				</rich:extendedDataTable>

			</rich:simpleTogglePanel>

			<rich:simpleTogglePanel label="#{messages.CU571_grilla2_title}"
				id="idPanel2">

				<table>
					<tr>
						<td valign="top"><h:inputTextarea disabled="true"
							value="#{cargarResultEvalMetodo571FC.comision}"
							style="width : 452px; height : 36px;" /> <h:panelGrid
							columns="2">
							<s:decorate template="/layout/display.xhtml">
								<ui:define name="label">Integrantes<span
										class="required">*</span>
								</ui:define>
								<h:selectOneMenu id="idTipoNombramiento"
									value="#{cargarResultEvalMetodo571FC.idComision}"
									style="width:150px">
									<f:selectItems
										value="#{cargarResultEvalMetodo571FC.traerIntegrantesSI()}" />
								</h:selectOneMenu>
							</s:decorate>
							<a:commandButton eventsQueue="default"
								reRender="evaluacionDesempenoSearch:panelResultados"
								action="#{cargarResultEvalMetodo571FC.addIntegrante()}"
								value="#{messages.CU571_agregar}" />
						</h:panelGrid></td>
						<td width="100%"><rich:panel id="panelResultados">
							<f:facet name="header">Integrantes Seleccionados (#{empty cargarResultEvalMetodo571FC.lGrilla2?0:cargarResultEvalMetodo571FC.lGrilla2.size()})</f:facet>
							<div style="overflow: scroll; width: 100%; HEIGHT: 100px"
								class="results"><h:outputText
								value="No hay Integrantes seleccionados..."
								rendered="#{empty cargarResultEvalMetodo571FC.lGrilla2}" /> <rich:dataTable
								rendered="#{! empty cargarResultEvalMetodo571FC.lGrilla2}"
								id="idGrillaComision" var="_record2" rowKeyVar="varIndex2"
								value="#{cargarResultEvalMetodo571FC.lGrilla2}">
								<h:column>
									<f:facet name="header">
						#{messages.CU571_integrante}
						</f:facet>
									<h:outputText style="white-space:normal;word-wrap: break-word"
										value="#{_record2.comisionCapacEval.persona.nombres} #{_record2.comisionCapacEval.persona.apellidos}" />
								</h:column>
								<h:column>
									<f:facet name="header">

									</f:facet>
									<a:commandLink value="Eliminar"
										reRender="evaluacionDesempenoSearch:panelResultados"
										action="#{cargarResultEvalMetodo571FC.eliminarIntegrante(varIndex2)}"></a:commandLink>
								</h:column>
							</rich:dataTable></div>
						</rich:panel></td>
					</tr>
				</table>
			</rich:simpleTogglePanel>

			<ui:remove>
				<rich:simpleTogglePanel id="idPanel3"
								label="#{messages.CU571_grilla3_title}">
								<div class="results" id="tbldetList"
									style="overflow: scroll; width: 100%; HEIGHT: 250px"><rich:dataTable
									var="_record3" value="#{cargarResultEvalMetodo571FC.lGrilla3}">
									<h:column>
										<f:facet name="header">
										#{messages.CU571_funcionarios}
										</f:facet>
										<h:outputText style="white-space:normal;word-wrap: break-word"
											value="#{_record3.sujetos.empleadoPuesto.persona.nombres} #{_record3.sujetos.empleadoPuesto.persona.apellidos}" />
									</h:column>
									<h:column>
										<f:facet name="header">
										#{messages.CU571_presente}
										</f:facet>
										<h:outputText style="white-space:normal;word-wrap: break-word"
											value="#{_record3.presente!=null and _record3.presente?'SI':'NO'}" />
									</h:column>
									<h:column>
										<f:facet name="header">
										#{messages.CU571_observacion}
										</f:facet>
										<h:inputTextarea
											style="white-space:normal;word-wrap: break-word; width : 100%"
											value="#{_record3.observacion}" />
									</h:column>
									<h:column>
										<f:facet name="header">
										</f:facet>
										<h:selectBooleanCheckbox value="#{_record3.presente}" />
									</h:column>
								</rich:dataTable></div>
							</rich:simpleTogglePanel>
			</ui:remove>

			<div style="clear: both"><span class="required">*</span>
			#{messages.msg_required_fields}</div>
			<div style="clear: both"><h:outputText
				value="#{messages.msg_obs_guardar}" styleClass="labelClass" /></div>
			<s:div styleClass="actionButtons">
				<h:commandButton value="Guardar"
					action="#{cargarResultEvalMetodo571FC.saveGrupo()}" />
				<s:button propagation="join"
					view="/seleccion/adminDocAdjunto/AdmDocAdjunto.xhtml" id="anesxos"
					value="Anexos">
					<f:param name="direccionFisica"
						value="#{cargarResultEvalMetodo571FC.direccionFisica}" />
					<f:param name="nombrePantalla"
						value="cargarResultEvalMetodo571Area" />
					<f:param name="idCU" value="#{cargaResultadosEvaluacionListFC.idEvaluacionDesempeno}"/>					 
					<f:param name="nombreTabla" value="GruposSujetos" />
					<f:param name="mostrarDoc" value="true" />
					<f:param name="isEdit" value="true" />
					<f:param name="from" value="/evaluacionDesempenho/CargarResultEvalMetodo/CargarResultEvalMetodoGrupal571.xhtml" />
				</s:button>
				<h:commandButton value="#{messages.CU571_finalizarEvalua}"
					action="#{cargarResultEvalMetodo571FC.finalizarEvalua()}" />
				<s:button value="Volver" propagation="join"
					view="#{empty cargarResultEvalMetodo571FC.elFrom?'/evaluacionDesempenho/cargaResultadoEvaluacion/GrupoMetodologiaList.xhtml':cargarResultEvalMetodo571FC.elFrom}" />
			</s:div>

		</h:form>
	</ui:define>

</ui:composition>
